<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Employee Report</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
</head>
<body>
    <h1 th:text="${report.getReportName()}"></h1>
    <form method="get" action="/report">
        <label for="department">Filter by Department:</label>
        <input type="text" id="department" name="department" th:value="${selectedDepartment}" />
        <button type="submit">Filter</button>
        <a href="/report">Reset</a>
        <a href="/report/export">Export CSV</a>
    </form>
    <table>
        <thead>
        <tr th:if="${report.getRows().size() > 0}">
            <th th:each="header : ${report.getRows()[0].keySet()}" th:text="${header}"></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="row : ${report.getRows()}">
            <td th:each="cell : ${row.values()}" th:text="${cell}"></td>
        </tr>
        </tbody>
    </table>
</body>
</html>
